<ng-container [ngSwitch]="action.type">
  <button
      type="button"
      *ngSwitchCase="ActionType.Icon"
      mat-icon-button
      (click)="action.click && action.click($event)"
      [color]="action.color"
      [ngClass]="action.classArray"
      [disabled]="action.disabled$ | async"
      [tabIndex]="action.tabIndex">
    <ng-template [ngTemplateOutlet]="buttonContent"></ng-template>
  </button>

  <!-- Fab button -->
  <button 
      type="button"
      *ngSwitchCase="ActionType.Fab"
      mat-fab
      (click)="action.click && action.click($event)"
      [color]="action.color"
      [ngClass]="action.classArray"
      [disabled]="action.disabled$ | async"
      [tabIndex]="action.tabIndex">
    <ng-template [ngTemplateOutlet]="buttonContent"></ng-template>
  </button>

  <!-- Mini Fab button -->
  <button 
      type="button"
      *ngSwitchCase="ActionType.MiniFab"
      mat-mini-fab
      (click)="action.click && action.click($event)"
      [color]="action.color"
      [ngClass]="action.classArray"
      [disabled]="action.disabled$ | async"
      [tabIndex]="action.tabIndex">
    <ng-template [ngTemplateOutlet]="buttonContent"></ng-template>
  </button>

  <button 
      type="button"
      *ngSwitchDefault
      mat-button
      [ngClass]="{        
        'mat-raised-button': action.type === 'raised',
        'mat-flat-button': action.type === 'flat',
        'mat-stroked-button': action.type === 'stroked',
        'mat-button': action.type === 'basic',
        'mat-icon-button': action.type === 'icon'
      }"
      (click)="action.click && action.click($event)"
      [color]="action.color"
      [class]="action.classArray.join(' ')"
      [disabled]="action.disabled$ | async"
      [tabIndex]="action.tabIndex">
    <ng-template [ngTemplateOutlet]="buttonContent"></ng-template>
  </button>

  <ng-template #buttonContent>
    <ng-container *ngIf="!action.icon else withIcon">
      {{action.label}}
    </ng-container>

    <ng-template #withIcon>
      <mat-icon *ngIf="!action.iconPlacement || action.iconPlacement === 'left'">{{action.icon}}</mat-icon>
      {{action.label}}
      <mat-icon *ngIf="action.iconPlacement === 'right'">{{action.icon}}</mat-icon>
    </ng-template>
  </ng-template>
</ng-container>
